<?xml version="1.0"?>

<realms xmlns="http://www.wyona.org/yanel/1.0" version="2009042800">

<changes>
  <change version="2010022100">Downloads realm containing update.rdf added (but has no impact on version attribute)</change>
  <change version="2010020400">Order changed (but has no impact on version attribute)</change>
  <change version="2009042800">Test realm config moved</change>
  <change version="2009020200">Use-cases realm config moved</change>
  <change version="2007060600">From scratch realm config/@src updated</change>
  <change version="2007053100">Javadoc realm config/@src updated</change>
  <change version="2007052900">Welcome realm config/@src updated</change>
</changes>

<!-- WARNING: Access Control does not work properly for nested realms (also the mount-point needs to match the id in order to make the access control work properly, e.g. id="zurich" and mount-point="/zurich/")! -->

<!-- IMPORTANT: Please make sure to add a trailing slash in the case of a mount-point (and in the case of the 'src' attribute if you don't specify the 'realm.xml' configuration explicitely), for example '/yanel-website/' instead '/yanel-website' -->

<!--
  NOTE: The variable @REALMS_DIR@ is configured within src/build/build.properties#default.realms.dir

  NOTE: The realm id attribute is needed internally by Yanel, but also can be used for cross-accessing realms, e.g. a resource can use the id to access data from another realm than the realm it is called from, e.g. yanelrepo:yanel-website:TODO:/homepage.xml (Also see http://bugzilla.wyona.com/cgi-bin/bugzilla/show_bug.cgi?id=7582)

  NOTE: The realm mount-point is used as prefix when accessing a realm through a browser
-->

<!--
  NOTE: Please be aware that the from-scratch-realm-template is needed by the welcome realm to create new realms.
-->
<realm id="from-scratch-realm-template" mount-point="/from-scratch-realm/">
  <config src="@REALMS_DIR@/from-scratch-realm-template/"/>
<!--
  <config src="@REALMS_DIR@/from-scratch-realm-template/realm-jcr-cnode1.xml"/>
-->
<!--
  <config src="@REALMS_DIR@/from-scratch-realm-template/realm-jcr-cnode2.xml"/>
-->
</realm>

<realm id="yanel-website" mount-point="/yanel-website/">
  <config src="@REALMS_DIR@/yanel-website/"/>

<!--
NOTE: Default port corresponding to protocol (e.g. 80 for http or 443 for https)
-->
<!--
NOTE: ROOT prefix which is equivalent to not setting the proxy-prefix. Please note that the proxy-prefix is being removed from the file part of the URL.
-->
<!--
IMPORTANT NOTE: When using a prefix different than the ROOT prefix, then make sure to fix the cookie rewriting according to http://issues.apache.org/bugzilla/show_bug.cgi?id=10722 resp. see ../src/httpd-2.2.3/conf/extra/httpd-vhosts.conf
-->
<!-- TODO: One should use by default http://en.wikipedia.org/wiki/X-Forwarded-For -->
<!--
  <reverse-proxy>
    <host-name>yanel.wyona.org</host-name>
    <port></port>
    <ssl-port></ssl-port>
    <prefix>/yanel</prefix>
  </reverse-proxy>
-->
</realm>

<realm id="javadoc" mount-point="/yanel-website/javadoc/">
  <config src="@REALMS_DIR@/javadoc/"/>
</realm>

<!--
<realm id="yanel-downloads" mount-point="/yanel-website/downloads/">
  <config src="/Users/michaelwechner/src/wyona/public/yanel/contributions/realms/downloads/"/>
</realm>
-->

<!--
<realm id="yulup-demo" mount-point="/yulup-demo/">
  <config src="PATH/TO/YULUP/yanel-realm-config.xml"/>

  <reverse-proxy>
    <host-name>demo.yulup.org</host-name>
    <port></port>
    <ssl-port></ssl-port>
    <prefix>/yanel/yulup-demo</prefix>
  </reverse-proxy>
</realm>
-->

<!--
<realm id="yulup-website" mount-point="/yulup-website/">
  <config src="PATH/TO/YULUP/yanel-realm-config.xml"/>

  <reverse-proxy>
    <host-name>www.yulup.org</host-name>
    <port></port>
    <ssl-port></ssl-port>
    <prefix>/yanel/yulup-website</prefix>
  </reverse-proxy>
</realm>
-->

<!-- ROOT realm (The mount point is '/'. TBD: Is the 'root' attribute actually needed?!) -->
<realm id="welcome" mount-point="/" root="true">
  <config src="@REALMS_DIR@/welcome-admin/"/>
<!-- TODO: Implement src/core/java/org/wyona/yanel/core/map/RealmManager#resolveFile()
  <config src="${javax.servlet.context}/realms/welcome-admin/"/>
-->
</realm>

<realm id="test-cases" mount-point="/test/use-cases/">
  <config src="@REALMS_DIR@/use-cases/yanel/"/>
</realm>

<realm id="test" mount-point="/test/">
  <config src="@REALMS_DIR@/test/yanel/"/>
</realm>

</realms>
